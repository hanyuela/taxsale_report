<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Zono admin is super flexible, powerful, clean &amp; modern responsive bootstrap 5 admin template with unlimited possibilities.">
    <meta name="keywords" content="admin template, Zono admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="pixelstrap">
    <link rel="icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">
    <title>Zono - Premium Admin Template</title>
    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;600;700;800;900&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i,900&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'css/font-awesome.css' %}">
    <!-- ico-font-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/icofont.css' %}">
    <!-- Themify icon-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/themify.css' %}">
    <!-- Flag icon-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/flag-icon.css' %}">
    <!-- Feather icon-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/feather-icon.css' %}">
    <!-- Plugins css start-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/slick.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/slick-theme.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/scrollbar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/animate.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/datatables.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/owlcarousel.css' %}">
    <!-- Plugins css Ends-->
    <!-- Bootstrap css-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/vendors/bootstrap.css' %}">
    <!-- App css-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <link id="color" rel="stylesheet" href="{% static 'css/color-1.css' %}" media="screen">
    <!-- Responsive css-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/responsive.css' %}">
  </head>
  <style>
  </style>
  <body> 
     <!-- Loader -->
<div class="loader-wrapper">
  <div class="theme-loader">
    <div class="loader-p"></div>
  </div>
</div>

    <!-- Page Wrapper -->
    
    <div class="page-body">
      <div class="container-fluid">
        <div class="row">
          <!-- Example Data Section -->
          <div class="col-12 mt-3">
            <div class="card">
              <div class="card-header">
                <h1 class="f-w-700">Property Report</h1>
              </div>
              <div class="card-body">
                <h3>Auction Information</h3>
                <table class="table table-bordered">
                    <tr>
                        <th>Authority</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.authority_name }}</div>
                            {% endfor %}
                        </td>
                        <th>Property Address</th>
                        <td>{{ data.full_address }}</td>
                    </tr>
                    <tr>
                        <th>Parcel Number</th>
                        <td>{{ data.parcel_number }}</td>
                        <th>Batch Number</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.batch_number }}</div>
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <th>Sort Number</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.sort_no }}</div>
                            {% endfor %}
                        </td>
                        <th>Face Value / Amount in Sale</th>
                        <td>${{ data.tax_amount_annual }}</td>
                    </tr>
                    <tr>
                        <th>Auction Type</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.auction_type }}</div>
                            {% endfor %}
                        </td>
                        <th>Auction Mode</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.is_online }}</div>
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <th>Auction Start Date</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.auction_start }}</div>
                            {% endfor %}
                        </td>
                        <th>Auction End Date</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.auction_end }}</div>
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <th>Deposit Deadline</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.deposit_deadline }}</div>
                            {% endfor %}
                        </td>
                        <th>Redemption Period (Years)</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.redemption_period }}</div>
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <th>Foreclosure Date</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.foreclosure_date }}</div>
                            {% endfor %}
                        </td>
                        <th>Bankruptcy Flag</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.bankruptcy_flag }}</div>
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <th>Auction Tax Year</th>
                        <td>
                            {% for auction in data.auctions %}
                                <div>{{ auction.auction_tax_year }}</div>
                            {% endfor %}
                        </td>
                        <th colspan="2"></th> <!-- 留空占位 -->
                    </tr>
                </table>
    
                <!-- Market Data Example (replace with Property data) -->
                <h3>Market Data</h3>
                <table class="table table-bordered">
                  <tr>
                    <th>Zillow Link</th>
                    <td>
                      {% if data.primary_link %}
                        <a href="{{ data.primary_link }}" target="_blank">View Listing</a>
                      {% else %}
                        N/A
                      {% endif %}
                    </td>
                    <th>Zestimate</th>
                    <td>${{ data.market_value }}</td>
                    <th>Building Size (sqft)</th>
                    <td>{{ data.building_size_sqft }}</td> 
                  </tr>
                  <tr>
                    <th>Year Built</th>
                    <td>{{ data.year_built }}</td>
                    <th>Lot Size</th>
                    <td>{{ data.lot_size }}</td>
                    <!-- Static value for now -->
                  </tr>
                  <tr>
                    <th>Nearby Schools</th>
                    <td colspan="3">{{ data.nearby_schools }}</td>
                  </tr>
                  <tr>
                    <th>Loan Amount</th>
                    <td>${{ data.tax_amount_annual }}</td>
                    <th>Loan Due Date</th>
                    <td>{{ data.latest_sale_date|date:"m/d/Y" }} - D</td> <!-- Example date format -->
                    <th>Loan Type</th>
                    <td>Mortgage</td>
                  </tr>
                  <tr>
                    <th>Bedroom Number</th>
                    <td>{{ data.bedroom_number }}</td>
                    <th>Bathroom Number</th>
                    <td>{{ data.bathroom_number }}</td>
                    <th>Environmental Hazard Status</th>
                    <td>{{ data.environmental_hazard_status|default:"N/A" }}</td>
                  </tr>
                  <tr>
                      <th>Flood Status</th>
                      <td>{{ data.flood_status|default:"N/A" }}</td>
                      <th>Flood Risk</th>
                      <td>{{ data.flood_risk|default:"N/A" }}</td>
                      <th>Latest Sale Date</th>
                      <td>{{ data.latest_sale_date|date:"m/d/Y" }}</td>
                  </tr>
                  <tr>
                      <th>Latest Sale Price</th>
                      <td>${{ data.latest_sale_price }}</td>
                      <th colspan="4"></th> <!-- 留空列 -->
                  </tr>
                </table>
                <!-- Loan Information -->
                <h3>Loan Information</h3>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Loan Amount</th>
                            <th>Loan Due Date</th>
                            <th>Loan Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for loan in data.loans %}
                        <tr>
                            <td>Loan {{ forloop.counter }}</td>
                            <td>${{ loan.loan_amount }}</td>
                            <td>{{ loan.loan_due_date|date:"m/d/Y" }}</td>
                            <td>{{ loan.loan_type }}</td>
                        </tr>
                        {% endfor %}
                        {% if not data.loans %}
                        <tr>
                            <td colspan="4">No Loan Information Available</td>
                        </tr>
                        {% endif %}
                    </tbody>
                </table>
                <!-- Score Chart Example -->
                <h3>Score Chart</h3>
                <div style="width: 60%; margin-left:0 ;">
                  <canvas id="scoreChart"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
        
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      // Example Chart
      const ctx = document.getElementById('scoreChart').getContext('2d');
      new Chart(ctx, {
        type: 'bar', // Chart type
        data: {
          labels: ['Walk Score', 'Transit Score', 'Bike Score'],
          datasets: [{
            label: 'Scores',
            data: [{{ data.walk_score }}, {{ data.transit_score }}, {{ data.bike_score }}],
            backgroundColor: [
              'rgba(75, 192, 192, 0.6)',
              'rgba(255, 99, 132, 0.6)',
              'rgba(54, 162, 235, 0.6)'
            ]
          }]
        },
        options: {
          indexAxis: 'y', // Horizontal bar chart
          responsive: true,
          maintainAspectRatio: false, // Prevent aspect ratio constraints
          scales: {
            x: {
              beginAtZero: true
            }
          },
          plugins: {
            legend: {
              display: false // Hide legend if not needed
            }
          }
        }
      });
    </script>
    
    <!-- latest jquery-->
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <!-- Bootstrap js-->
    <script src="{% static 'js/bootstrap/bootstrap.bundle.min.js' %}"></script>
    <!-- feather icon js-->
    <script src="{% static 'js/icons/feather-icon/feather.min.js' %}"></script>
    <script src="{% static 'js/icons/feather-icon/feather-icon.js' %}"></script>
    <!-- scrollbar js-->
    <script src="{% static 'js/scrollbar/simplebar.js' %}"></script>
    <script src="{% static 'js/scrollbar/custom.js' %}"></script>
    <!-- Sidebar jquery-->
    <script src="{% static 'js/config.js' %}"></script>
    <!-- Plugins JS start-->
    <script src="{% static 'js/sidebar-menu.js' %}"></script>
    <script src="{% static 'js/sidebar-pin.js' %}"></script>
    <script src="{% static 'js/slick/slick.min.js' %}"></script>
    <script src="{% static 'js/slick/slick.js' %}"></script>
    <script src="{% static 'js/header-slick.js' %}"></script>
    <script src="{% static 'js/chart/morris-chart/raphael.js' %}"></script>
    <script src="{% static 'js/chart/morris-chart/morris.js' %}"></script>
    <script src="{% static 'js/chart/morris-chart/prettify.min.js' %}"></script>
    <script src="{% static 'js/chart/apex-chart/apex-chart.js' %}"></script>
    <script src="{% static 'js/chart/apex-chart/stock-prices.js' %}"></script>
    <script src="{% static 'js/chart/apex-chart/moment.min.js' %}"></script>
    <script src="{% static 'js/notify/bootstrap-notify.min.js' %}"></script>
    <script src="{% static 'js/dashboard/default.js' %}"></script>
    <script src="{% static 'js/notify/index.js' %}"></script>
    <script src="{% static 'js/datatable/datatables/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'js/datatable/datatables/datatable.custom.js' %}"></script>
    <script src="{% static 'js/datatable/datatables/datatable.custom1.js' %}"></script>
    <script src="{% static 'js/owlcarousel/owl.carousel.js' %}"></script>
    <script src="{% static 'js/owlcarousel/owl-custom.js' %}"></script>
    <script src="{% static 'js/typeahead/handlebars.js' %}"></script>
    <script src="{% static 'js/typeahead/typeahead.bundle.js' %}"></script>
    <script src="{% static 'js/typeahead/typeahead.custom.js' %}"></script>
    <script src="{% static 'js/typeahead-search/handlebars.js' %}"></script>
    <script src="{% static 'js/typeahead-search/typeahead-custom.js' %}"></script>
    <script src="{% static 'js/height-equal.js' %}"></script>
    <!-- Plugins JS Ends-->
    <!-- Theme js-->
    <script src="{% static 'js/script.js' %}"></script>
    <script src="{% static 'js/theme-customizer/customizer.js' %}"></script>
    <!-- Plugin used-->
  </body>
</html>